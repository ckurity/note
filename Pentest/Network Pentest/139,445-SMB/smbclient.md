## smbclient
```
smbclient -NL $ip
smbclient -N //$ip/xx
```

## [Recursively download a directory using smbclient](https://superuser.com/questions/856617/how-do-i-recursively-download-a-directory-using-smbclient)
```
smbclient -N //$ip/Replication
recurse
prompt
mget *
```

## List files in one-liner
```
smbclient -N //$ip/Replication
smbclient -N //$ip/Replication -c ls
smbclient -N //$ip/Replication -c 'rec;ls'
smbclient -N //$ip/Replication -c 'recurse;ls'
```

## Flags
```
$ smbclient --help | eg \\'-N|-L'
  -N, --no-pass                                Don't ask for a password

  -L, --list=HOST                              Get a list of shares available
```


## Examples: List files
```
$ smbclient -N //$ip/Replication
Anonymous login successful
Try "help" to get a list of possible commands.
smb: \> recurse 
smb: \> prompt 
smb: \> mget *
getting file \active.htb\Policies\{31B2F340-016D-11D2-945F-00C04FB984F9}\GPT.INI of size 23 as active.htb/Policies/{31B2F340-016D-11D2-945F-00C04FB984F9}/GPT.INI (0.3 KiloBytes/sec) (average 0.3 KiloBytes/sec)
... snip ...
getting file \active.htb\Policies\{31B2F340-016D-11D2-945F-00C04FB984F9}\MACHINE\Preferences\Groups\Groups.xml of size 533 as active.htb/Policies/{31B2F340-016D-11D2-945F-00C04FB984F9}/MACHINE/Preferences/Groups/Groups.xml (7.7 KiloBytes/sec) (average 8.0 KiloBytes/sec)
... snip ...
getting file \active.htb\Policies\{6AC1786C-016F-11D2-945F-00C04fB984F9}\MACHINE\Microsoft\Windows NT\SecEdit\GptTmpl.inf of size 3722 as active.htb/Policies/{6AC1786C-016F-11D2-945F-00C04fB984F9}/MACHINE/Microsoft/Windows NT/SecEdit/GptTmpl.inf (22.4 KiloBytes/sec) (average 12.4 KiloBytes/sec)
smb: \> 
```

## Examples: List files in one-liner
```
$ smbclient -N //$ip/Replication
Anonymous login successful
Try "help" to get a list of possible commands.
smb: \> ex

$ smbclient -N //$ip/Replication -c ls
Anonymous login successful
  .                                   D        0  Sat Jul 21 18:37:44 2018
  ..                                  D        0  Sat Jul 21 18:37:44 2018
  active.htb                          D        0  Sat Jul 21 18:37:44 2018

                5217023 blocks of size 4096. 309833 blocks available
```
