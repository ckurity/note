- [TCM AD Lab](#tcm-ad-lab)
    - [Cred](#cred)
    - [Config](#config)
- [References](#references)

# [TCM AD Lab](#tcm-ad-lab-1)
## [Cred](#cred-1)
```sh
DC = P@$$w0rd!
```

## [Config](#config-1)
```sh
VBox Tools
Rename PC: HYDRA-DC
MARVEL\Administrator

PC Name: PUNISHER
Name: Frank Castle
Logon: fcastle
Password: P@$$w0rd1 / Password1

PC Name: SPIDERMAN
Username: Peter Parker
Logon: pparker
Password: P@$$w0rd2 / Password2
10.1.1.5

Admin User1
Name: Tony Stark
Logon: tstark
Password: P@$$w0rdadmin123!

Admin User2
Name: SQL Service
Logon: SQLService
Password: MYpassword123#
```

## [nxc](#nxc)
```sh
$ nxc smb 10.1.1.0/24
SMB    10.1.1.5     445    SPIDERMAN    [*] Windows 10.0 Build 19041 x64 (name:SPIDERMAN) (domain:MARVEL.local) (signing:False) (SMBv1:False)
SMB    10.1.1.6     445    PUNISHER     [*] Windows 10.0 Build 19041 x64 (name:PUNISHER) (domain:MARVEL.local) (signing:False) (SMBv1:False)
SMB    10.1.1.250   445    HYDRA-DC     [*] Windows 10.0 Build 20348 x64 (name:HYDRA-DC) (domain:MARVEL.local) (signing:True) (SMBv1:False)
Running nxc against 256 targets ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00
```

## 
```sh
wget https://raw.githubusercontent.com/Dewalt-arch/pimpmyadlab/main/pimpmyadlab.ps1
wget https://raw.githubusercontent.com/Dewalt-arch/pimpmyadlab/main/nukedefender.ps1
```

## 
```sh
IEUser
```


## Auto Login
```sh
PS C:\Users\fcastle> reg query "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v AutoAdminLogon

HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon
    AutoAdminLogon    REG_SZ    1

PS C:\Users\fcastle> reg query "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v DefaultUserName

HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon
    DefaultUserName    REG_SZ    MARVEL\fcastle

PS C:\Users\fcastle> reg query "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v DefaultPassword

HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon
    DefaultPassword    REG_SZ    Password1
```

## PUNISHER - MARVEL\fcastle
```sh
reg add "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v DefaultPassword /t REG_SZ /d "Password1" /f

reg add "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v DefaultPassword /t REG_SZ /d "P@$$w0rd1" /f
```

## SPIDERMAN - MARVEL\pparker
```sh
reg add "HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v DefaultPassword /t REG_SZ /d "Password2" /f
```


# [References](#references-1)

https://www.hackingloops.com/ad-lab-setup-for-exploitation/

[Here's a great way to improve your AD hacking with Hack The Box...](https://www.linkedin.com/posts/keith-monroe_penetrationtester-cybersecurity-hackthebox-activity-7075931883309518848-A5a1)

> Go to Tracks -> Intro to Zephyr and complete all the machines.

[GOAD on proxmox - Part1 - Proxmox and pfsense](https://mayfly277.github.io/posts/GOAD-on-proxmox-part1-install/)

[GOAD on proxmox - Part2 - Templating with packer](https://mayfly277.github.io/posts/
GOAD-on-proxmox-part2-packer/)

[GOAD on proxmox - Part3 - Providing with Terraform](https://mayfly277.github.io/posts/GOAD-on-proxmox-part3-terraform/)

[GOAD on proxmox - Part4 - Provisioning with Ansible](https://mayfly277.github.io/posts/GOAD-on-proxmox-part4-ansible/)

[GOAD on proxmox - Part5 - VPN access with openvpn](https://mayfly277.github.io/posts/GOAD-on-proxmox-part5-openvpn/)

[]


[GOAD - part 10 - Delegations](https://mayfly277.github.io/posts/GOADv2-pwning-part10/)

[GOAD - part 11 - ACL](https://mayfly277.github.io/posts/GOADv2-pwning-part11/)


