- 
- [References](#references)

-------------------------------------------


The ms-DS-MachineAccountQuota attribute in Active Directory is used to determine the maximum number of computer accounts that can be created in a domain.

The default value for ms-DS-MachineAccountQuota is 10.

- The attribute is only applicable to users with the "Create computer objects" permission.
- Setting the quota to 0 effectively disables user creation of machine accounts.
- You can use Active Directory tools like dsa.msc or PowerShell to view and modify the ms-DS-MachineAccountQuota value.


## 
Get-ADObject ((Get-ADDomain).distinguishedname) -Properties ms-DS-MachineAccountQuota
Get-ADObject -Identity ((Get-ADDomain).distinguishedname) -Properties ms-DS-MachineAccountQuota
```sh
PS C:\Users\thm> Get-ADObject ((Get-ADDomain).distinguishedname) -Properties ms-DS-MachineAccountQuota

DistinguishedName         : DC=lunar,DC=eruca,DC=com
ms-DS-MachineAccountQuota : 10
Name                      : lunar
ObjectClass               : domainDNS
ObjectGUID                : 163768e2-712b-4e97-a6a3-5e597f91d6f4
```

## 
```sh
$ cme ldap $t -d lunar.eruca.com -u thm -p Password1@ -M maq
SMB         10.10.250.76    445    LUNDC            [*] Windows 10.0 Build 17763 x64 (name:LUNDC) (domain:lunar.eruca.com) (signing:True) (SMBv1:False)
LDAP        10.10.250.76    389    LUNDC            [+] lunar.eruca.com\thm:Password1@ (Pwn3d!)
MAQ         10.10.250.76    389    LUNDC            [*] Getting the MachineAccountQuota
MAQ         10.10.250.76    389    LUNDC            MachineAccountQuota: 10
```

## 
```sh

```

## 
```sh

```

## 
```sh

```

## 
```sh

```

## 
```sh

```

## 
```sh

```

## 
```sh

```

## 
```sh

```

# [References](#references-1)

https://www.jorgebernhardt.com/how-to-change-attribute-ms-ds-machineaccountquota/

https://www.thehacker.recipes/ad/movement/domain-settings/machineaccountquota

https://pentestlab.blog/2021/10/18/resource-based-constrained-delegation/

https://pentestlab.blog/2022/01/10/domain-escalation-samaccountname-spoofing/
https://www.netspi.com/blog/technical/network-penetration-testing/machineaccountquota-is-useful-sometimes/