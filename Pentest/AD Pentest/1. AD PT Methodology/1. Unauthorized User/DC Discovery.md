- 
- [References](#references)

-------------------------------------------

## Find Domain Controller In BlackBox Testing
```sh
nmap -p389,636 --open -iL <IP_List_File>  #389(LDAP) / 636(LDAP-SSL)

-> If you have a domain joined Windows Machine
nslookup -querytype=SRV _LDAP._TCP.DC._MSDCS.<domain_name>

nltest /server:<IP> /dclist:<domain_name>

(From PS) [System.DirectoryServices.ActiveDirectory.Domain]::GetCurrentDomain().DomainControllers
```
https://br33z3.github.io/rtfm

```sh
Get-Domain | Select-Object -ExpandProperty DomainControllers

#Finding DC IP
nslookup -querytype=SRV _LDAP._TCP.DC._MSDCS.<doamin_name>
```
https://pswalia2u.medium.com/ad-enumeration-b2303ba8671c

## 
```sh
nslookup -querytype=SRV _ldap._tcp.dc._msdcs.frontoso.com
```

Nslookup should give you a list of all domaincontrollers of `frontoso.com`

https://secattic.blogspot.com/2013/



## 
```sh
PS C:\> ls env:l*

Name                           Value
----                           -----
LOCALAPPDATA                   C:\Users\pparker\AppData\Local
LOGONSERVER                    \\HYDRA-DC

PS C:\> $env:LOGONSERVER
\\HYDRA-DC

PS C:\> ping HYDRA-DC -n 1

Pinging HYDRA-DC.MARVEL.local [10.0.2.250] with 32 bytes of data:
Reply from 10.0.2.250: bytes=32 time<1ms TTL=128
```

## 
```sh
C:\>set l
LOCALAPPDATA=C:\Users\pparker\AppData\Local
LOGONSERVER=\\HYDRA-DC

C:\>echo %LOGONSERVER%
\\HYDRA-DC
```

## 
```sh

```

## 
```sh

```

## 
```sh

```

## 
```sh

```

## 
```sh

```

# [References](#references-1)

https://adsecurity.org/wp-content/uploads/2016/08/DEFCON24-2016-Metcalf-BeyondTheMCSE-RedTeamingActiveDirectory.pdf

https://pswalia2u.medium.com/ad-enumeration-b2303ba8671c

https://www.slideshare.net/hacknpentest/hunt-for-domain-controller-activedirectory-pentesting-operatingSystemVersion

https://gist.github.com/ahmedjavid

https://www.oreilly.com/library/view/active-directory-cookbook/0596004648/ch03s22.html